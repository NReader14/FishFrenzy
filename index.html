<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fish Frenzy!</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸŸ</text></svg>">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- GAME WRAPPER â€” Contains all game UI and overlays   -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="game-wrapper">

  <!-- AI DISCLAIMER BANNER -->
  <div id="ai-banner">MADE IN COLLABORATION WITH THE AI CLAUDE</div>

  <!-- HUD â€” Score, timer, level, treats remaining -->
  <div id="hud">
    <div class="hud-item">SCORE <span id="score">0</span></div>
    <div class="hud-item timer-group">
      <div id="timer-bar-bg"><div id="timer-bar"></div></div>
      <span id="timer">30</span>
    </div>
    <div class="hud-item">LVL <span id="level">1</span></div>
    <div class="hud-item">LEFT <span id="treats-left">0</span></div>
  </div>

  <!-- STATUS BAR â€” Active power-up indicators -->
  <div id="status-bar">
    <div class="status-item" id="st-frenzy">ğŸ”¥FRZ</div>
    <div class="status-item" id="st-ice">â„ICE</div>
    <div class="status-item" id="st-shield">ğŸ›¡SHD</div>
    <div class="status-item" id="st-magnet">ğŸ§²MAG</div>
    <div class="status-item" id="st-ghost">ğŸ‘»GHO</div>
    <div class="status-item" id="st-time">â³TIM</div>
    <div class="status-item" id="st-buddy">ğŸ BUD</div>
    <div class="status-item" id="st-bomb">ğŸ’£BOM</div>
    <div class="status-item" id="st-decoy">ğŸ‘DCY</div>
    <div class="status-item" id="st-star">ğŸŒŸSTR</div>
    <div class="status-item" id="st-hook">ğŸªHKD</div>
    <div class="status-item" id="st-goop">ğŸ§ªGOP</div>
    <div class="status-item" id="st-crazy">ğŸ„CRZ</div>
    <div class="status-item" id="st-combo">âš¡x1</div>
  </div>

  <!-- GAME CANVAS -->
  <canvas id="game" width="720" height="480"></canvas>

  <!-- FRENZY MODE HUD â€” Shows when frenzy power-up is active -->
  <div id="frenzy-hud">
    FRENZY x2
    <div id="frenzy-bar-bg-hud"><div id="frenzy-bar"></div></div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- OVERLAYS â€” Menu screens layered over the canvas -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

  <!-- MAIN MENU OVERLAY -->
  <div id="overlay" class="game-overlay">
    <h1>FISH<br>FRENZY</h1>
    <p class="subtitle">EAT ALL TREATS &middot; ESCAPE THE SHARK</p>
    <div class="menu-buttons">
      <button id="start-btn" class="btn-primary">START</button>
      <button id="rules-btn" class="btn-secondary">RULES</button>
      <button id="scoreboard-btn" class="btn-secondary">HI-SCORES</button>
    </div>
    <p class="controls-hint">ARROW KEYS / WASD TO SWIM</p>
    <p class="insert-coin">PRESS START</p>
  </div>

  <!-- RULES OVERLAY -->
  <div id="rules-overlay" class="game-overlay hidden">
    <div class="rules-container">
      <div class="rules-title">HOW TO PLAY</div>

      <div class="rules-section">
        <div class="rules-heading">OBJECTIVE</div>
        <p class="rules-text">Collect all the treats before time runs out. Avoid the shark â€” it will chase you!</p>
      </div>

      <div class="rules-section">
        <div class="rules-heading">CONTROLS</div>
        <p class="rules-text">Arrow Keys or WASD to swim in any direction.</p>
      </div>

      <div class="rules-section">
        <div class="rules-heading">TREATS</div>
        <p class="rules-text">
          ğŸª± ğŸ¦ ğŸ¦€ ğŸŸ ğŸ¤ ğŸ£ ğŸ” ğŸ• ğŸŸ ğŸ‰ â€” Collect them all to complete the level. Each treat is worth 10 points (20 during Frenzy). Combo multiplier increases when you collect treats quickly in succession (max x5).
        </p>
      </div>

      <div class="rules-section">
        <div class="rules-heading">POWER-UPS</div>
        <p class="rules-text" style="margin-bottom:8px;">Items grouped by rarity. Rarer items spawn less often.</p>

        <div class="rules-rarity-label" style="color:#44ee88;">â˜… COMMON</div>
        <div class="rules-powerup-grid">
          <div class="rules-pw rarity-common"><span class="pw-icon">ğŸ”¥</span><strong>FRENZY</strong> â€” 2x points + speed boost for 3s</div>
        </div>

        <div class="rules-rarity-label" style="color:#aaaacc;">â˜…â˜… UNCOMMON</div>
        <div class="rules-powerup-grid">
          <div class="rules-pw rarity-uncommon"><span class="pw-icon">â„ï¸</span><strong>ICE</strong> â€” Slows the shark for 4s</div>
          <div class="rules-pw rarity-uncommon"><span class="pw-icon">ğŸ›¡ï¸</span><strong>SHIELD</strong> â€” Blocks one shark hit</div>
          <div class="rules-pw rarity-uncommon"><span class="pw-icon">â˜ ï¸</span><strong style="color:#ff4444;">POISON</strong> â€” Bad! Lose 3 seconds</div>
        </div>

        <div class="rules-rarity-label" style="color:#4488ff;">â˜…â˜…â˜… RARE</div>
        <div class="rules-powerup-grid">
          <div class="rules-pw rarity-rare"><span class="pw-icon">â³</span><strong>TIME STOP</strong> â€” Freezes timer &amp; shark for 3.5s</div>
          <div class="rules-pw rarity-rare"><span class="pw-icon">ğŸ </span><strong>BUDDY</strong> â€” Mirror fish collects treats for 3s</div>
          <div class="rules-pw rarity-rare"><span class="pw-icon">ğŸª</span><strong>HOOK</strong> â€” Grapple to the nearest treat</div>
          <div class="rules-pw rarity-rare"><span class="pw-icon">ğŸ§ª</span><strong style="color:#ff4444;">GOOP</strong> â€” Bad! Slows you for 4s</div>
        </div>

        <div class="rules-rarity-label" style="color:#ffdd44;">â˜…â˜…â˜…â˜… EPIC</div>
        <div class="rules-powerup-grid">
          <div class="rules-pw rarity-epic"><span class="pw-icon">ğŸ‘»</span><strong>GHOST</strong> â€” Shark vanishes for 3s</div>
          <div class="rules-pw rarity-epic"><span class="pw-icon">ğŸ’£</span><strong>BOMB</strong> â€” Blasts shark to farthest corner</div>
          <div class="rules-pw rarity-epic"><span class="pw-icon">ğŸ‘ï¸</span><strong>DECOY</strong> â€” Fake fish distracts the shark</div>
          <div class="rules-pw rarity-epic"><span class="pw-icon">ğŸ”„</span><strong>SWAP</strong> â€” Swap places with the shark</div>
        </div>

        <div class="rules-rarity-label rules-rarity-mythical">â˜…â˜…â˜…â˜…â˜… MYTHICAL</div>
        <div class="rules-powerup-grid">
          <div class="rules-pw rarity-mythical"><span class="pw-icon">ğŸŒŸ</span><strong>STAR</strong> â€” Brief invincibility, shark bounces off</div>
          <div class="rules-pw rarity-mythical"><span class="pw-icon">ğŸ’</span><strong>DOUBLE</strong> â€” Duplicates all treats on the field</div>
          <div class="rules-pw rarity-mythical"><span class="pw-icon">ğŸ§²</span><strong>MAGNET</strong> â€” Pulls all treats towards you</div>
          <div class="rules-pw rarity-mythical"><span class="pw-icon">ğŸŒŠ</span><strong>WAVE</strong> â€” Pushes all treats to nearest wall</div>
        </div>

        <div class="rules-rarity-label" style="color:#ff00aa;">â˜¢ SPECIAL</div>
        <div class="rules-powerup-grid">
          <div class="rules-pw rarity-crazy"><span class="pw-icon">ğŸ„</span><strong>CRAZY</strong> â€” Masses of treats for 5s, then game over! (Lv10+)</div>
        </div>
      </div>

      <div class="rules-section">
        <div class="rules-heading">TIPS</div>
        <p class="rules-text">
          Rarer power-ups appear less often and vanish faster â€” grab them quickly! Watch out for â˜ ï¸ Poison and ğŸ§ª Goop. The shark gets faster each level. Build combos for massive scores! Max 3 power-ups on screen at once â€” limited by a budget that increases each level.
        </p>
      </div>
    </div>
    <button id="rules-back-btn" class="btn-secondary">BACK</button>
  </div>

  <!-- NAME ENTRY OVERLAY -->
  <div id="name-entry-overlay" class="game-overlay hidden"></div>

  <!-- END SCREEN OVERLAY (game over + scoreboard) -->
  <div id="end-screen-overlay" class="game-overlay hidden"></div>

  <!-- WIN OVERLAY (level complete) -->
  <div id="win-overlay" class="game-overlay hidden"></div>

  <!-- SCOREBOARD OVERLAY -->
  <div id="scoreboard-overlay" class="game-overlay hidden">
    <div class="scoreboard-title">HIGH SCORES</div>
    <div id="scoreboard-content"><p class="loading-text">LOADING...</p></div>
    <div class="scoreboard-actions">
      <button id="close-scoreboard-btn" class="btn-secondary">BACK</button>
      <button id="admin-panel-btn" class="btn-secondary" style="border-color:#44ddff;color:#44ddff;">ADMIN</button>
    </div>
  </div>

  <!-- ADMIN LOGIN OVERLAY (gateway to admin panel) -->
  <div id="admin-overlay" class="game-overlay hidden">
    <div class="admin-container">
      <div class="admin-title">ADMIN LOGIN</div>
      <p class="admin-text">Enter admin credentials to access the control panel.</p>
      <div class="admin-form">
        <label class="admin-label">EMAIL</label>
        <input type="email" id="admin-email" class="admin-input" placeholder="admin@email.com" autocomplete="email">
        <label class="admin-label">PASSWORD</label>
        <input type="password" id="admin-password" class="admin-input" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" autocomplete="current-password">
        <div id="admin-error" class="admin-error hidden"></div>
        <div class="admin-btn-row">
          <button id="admin-login-btn" class="btn-primary" style="padding:10px 20px;font-size:9px;">LOGIN</button>
          <button id="admin-cancel-btn" class="btn-secondary">CANCEL</button>
        </div>
      </div>
    </div>
  </div>

  <!-- ADMIN PANEL OVERLAY (shown after successful login) -->
  <div id="admin-panel-overlay" class="game-overlay hidden">
    <div class="admin-panel-container">
      <div class="admin-title" style="margin-bottom:14px;">âš™ ADMIN PANEL</div>

      <!-- MAINTENANCE TOGGLE -->
      <div class="admin-section">
        <div class="admin-section-title">MAINTENANCE MODE</div>
        <div class="admin-row">
          <span id="maint-status" class="admin-status">CHECKING...</span>
          <button id="maint-toggle-btn" class="btn-primary" style="padding:6px 14px;font-size:8px;">TOGGLE</button>
        </div>
      </div>

      <!-- SCOREBOARD WIPE -->
      <div class="admin-section">
        <div class="admin-section-title">SCOREBOARD</div>
        <div class="admin-row">
          <span style="color:#5588aa;font-size:7px;">Permanently delete all scores</span>
          <button id="admin-wipe-btn" class="btn-danger" style="padding:6px 14px;font-size:8px;">WIPE ALL</button>
        </div>
      </div>

      <!-- VARIABLE EDITOR -->
      <div class="admin-section">
        <div class="admin-section-title">POWER-UP EDITOR</div>
        <div id="admin-var-editor" class="admin-var-grid">
          <p class="loading-text" style="font-size:7px;">LOADING...</p>
        </div>
        <div class="admin-row" style="margin-top:8px;">
          <button id="admin-save-config-btn" class="btn-primary" style="padding:6px 14px;font-size:8px;">SAVE TO FIREBASE</button>
          <button id="admin-reset-config-btn" class="btn-secondary" style="padding:6px 14px;font-size:8px;">RESET DEFAULTS</button>
        </div>
      </div>

      <div id="admin-panel-msg" class="admin-error hidden" style="margin-top:10px;"></div>
      <button id="admin-panel-close-btn" class="btn-secondary" style="margin-top:14px;">CLOSE</button>
    </div>
  </div>


  <!-- PAUSE OVERLAY (tab-out) -->
  <div id="pause-overlay" class="game-overlay hidden">
    <div class="result win">PAUSED</div>
    <p class="score-text" style="margin:16px 0;">GAME PAUSED</p>
    <button id="pause-continue-btn" class="btn-primary">CONTINUE</button>
    <p class="controls-hint" style="margin-top:12px;">PRESS ESC OR SWITCH TABS TO PAUSE</p>
  </div>

  <!-- WELCOME POPUP (first visit) -->
  <div id="welcome-overlay" class="game-overlay hidden">
    <h1 style="font-size:20px;color:#ff8833;">ğŸŸ FISH FRENZY ğŸŸ</h1>
    <p class="subtitle" style="margin:12px 0 6px;">WELCOME, ANGLER!</p>
    <p class="rules-text" style="max-width:360px;text-align:center;line-height:1.8;margin:8px auto;">
      Swim around, collect treats, dodge the shark!<br>
      Power-ups will help you... or hinder you! â˜ ï¸<br>
      Check the RULES page for full details.
    </p>
    <p style="color:#44ddff;font-size:8px;margin:14px 0 6px;">ğŸŸ "Fish tee hee hee!" ğŸŸ</p>
    <button id="welcome-close-btn" class="btn-primary" style="padding:10px 28px;font-size:10px;margin-top:10px;">GOT IT!</button>
  </div>

  <!-- LOADING OVERLAY â€” Shown during Firebase operations -->
  <div id="loading-overlay" class="game-overlay hidden">
    <p class="loading-text" id="loading-message">SAVING SCORE...</p>
  </div>

</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- SCRIPTS â€” Firebase first, then game logic          -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<script type="module" src="game.js"></script>

</body>
</html>